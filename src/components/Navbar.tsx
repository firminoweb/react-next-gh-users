'use client';

import Link from 'next/link';
import { useRouter } from 'next/navigation';
import SearchBar from '@/components/SearchBar';

const Navbar = () => {
  const router = useRouter();

  const handleSearch = (username: string) => {
    if (username) {
      router.push(`/user?username=${username}`);
    }
  };

  return (
    <nav className="navbar">
      <div className="navbar-container">
        <SearchBar onSearch={handleSearch} />
        <Link href="/favorites" className="favorites-button">
          <svg
            width="24"
            height="22"
            viewBox="0 0 24 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="mr-2"
          >
            <g clipPath="url(#clip0_2_930)">
              <path
                d="M22.2857 6.71429C22.2857 5.98192 22.1897 5.33545 21.9978 4.77487C21.8058 4.21429 21.5603 3.76899 21.2612 3.43898C20.9621 3.10896 20.5982 2.83997 20.1696 2.63201C19.7411 2.42406 19.3214 2.28391 18.9107 2.21158C18.5 2.13925 18.0625 2.10308 17.5982 2.10308C17.1339 2.10308 16.6339 2.21836 16.0982 2.44892C15.5625 2.67948 15.0692 2.96881 14.6183 3.31691C14.1674 3.66502 13.7812 3.99051 13.4598 4.29341C13.1384 4.5963 12.8705 4.87433 12.6562 5.12749C12.4955 5.32641 12.2768 5.42587 12 5.42587C11.7232 5.42587 11.5045 5.32641 11.3438 5.12749C11.1295 4.87433 10.8616 4.5963 10.5402 4.29341C10.2188 3.99051 9.83259 3.66502 9.3817 3.31691C8.9308 2.96881 8.4375 2.67948 7.90179 2.44892C7.36607 2.21836 6.86607 2.10308 6.40179 2.10308C5.9375 2.10308 5.5 2.13925 5.08929 2.21158C4.67857 2.28391 4.25893 2.42406 3.83036 2.63201C3.40179 2.83997 3.03795 3.10896 2.73884 3.43898C2.43973 3.76899 2.1942 4.21429 2.00223 4.77487C1.81027 5.33545 1.71429 5.98192 1.71429 6.71429C1.71429 8.23328 2.54911 9.83816 4.21875 11.5289L12 19.1239L19.7679 11.5425C21.4464 9.84268 22.2857 8.23328 22.2857 6.71429ZM24 6.71429C24 8.71248 22.9777 10.7468 20.933 12.8174L12.5893 20.9548C12.4286 21.1175 12.2321 21.1989 12 21.1989C11.7679 21.1989 11.5714 21.1175 11.4107 20.9548L3.05357 12.7902C2.96429 12.7179 2.84152 12.6004 2.68527 12.4376C2.52902 12.2749 2.28125 11.9788 1.94196 11.5493C1.60268 11.1198 1.29911 10.679 1.03125 10.227C0.763393 9.77487 0.524554 9.22785 0.314732 8.5859C0.104911 7.94395 0 7.32008 0 6.71429C0 4.72514 0.566964 3.16999 1.70089 2.04883C2.83482 0.927675 4.40179 0.367096 6.40179 0.367096C6.95536 0.367096 7.52009 0.464293 8.09598 0.658687C8.67188 0.853081 9.20759 1.11529 9.70312 1.44531C10.1987 1.77532 10.625 2.085 10.9821 2.37433C11.3393 2.66366 11.6786 2.97107 12 3.29657C12.3214 2.97107 12.6607 2.66366 13.0179 2.37433C13.375 2.085 13.8013 1.77532 14.2969 1.44531C14.7924 1.11529 15.3281 0.853081 15.904 0.658687C16.4799 0.464293 17.0446 0.367096 17.5982 0.367096C19.5982 0.367096 21.1652 0.927675 22.2991 2.04883C23.433 3.16999 24 4.72514 24 6.71429Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_2_930">
                <rect
                  width="24"
                  height="20.8318"
                  fill="none"
                  transform="translate(0 0.367096)"
                />
              </clipPath>
            </defs>
          </svg>
          Favoritos
        </Link>
      </div>
    </nav>
  );
};

export default Navbar;
